(this["webpackJsonpreact-test-work-3divi"]=this["webpackJsonpreact-test-work-3divi"]||[]).push([[0],{21:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);n(21);var a=n(4),c=n(0),i=n(8),r=n.n(i),d=n(3),s=n(10),o=n(2),l=n(1);var j=o.a.button((function(e){return{width:"100%","margin-bottom":"5px",padding:"7px 0",border:"1px solid black","text-align":"center",cursor:"pointer","background-color":e.color,transition:"background-color 0.5s","&:hover":{"background-color":"green"},"&:disabled":{cursor:"not-allowed","&:hover":{"background-color":"unset"}}}})),u=function(e){var t=Object(c.useState)("transparent"),n=Object(s.a)(t,2),a=n[0],i=n[1],r=e.item,d=e.isChoosen,o=r.n;return Object(l.jsx)(j,{disabled:0===r.v?"disabled":null,color:a,onClick:function(){i("transparent"===a?"green":"transparent"),d(r)},children:o})};var x,b=o.a.div((function(e){return{width:"100%",height:e.height,"background-color":e.color,transition:"height 0.5s"}})),h=function(e){var t=e.views,n=e.color,a=e.maxViewsPerWeekday,i=Object(c.useState)(0),r=Object(s.a)(i,2),d=r[0],o=r[1];return Object(c.useEffect)((function(){0!==a&&o(240/a*t),0===a&&o(0)})),Object(l.jsx)(b,{height:d,color:n})};var O,f,p,y,v=o.a.div(x||(x=Object(d.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    width: 60px;\n    height: 100%;\n"]))),w=function(e){var t=e.weekdayData,n=e.maxViewsPerWeekday;return Object(l.jsxs)(v,{children:[Object(l.jsx)(h,{views:t.adult,color:"#5351FF",maxViewsPerWeekday:n}),Object(l.jsx)(h,{views:t.kid,color:"#0D9900",maxViewsPerWeekday:n}),Object(l.jsx)(h,{views:t.old,color:"#FF796D",maxViewsPerWeekday:n}),Object(l.jsx)(h,{views:t.undefined,color:"#8492A1",maxViewsPerWeekday:n}),Object(l.jsx)(h,{views:t.young,color:"#8BD8FF",maxViewsPerWeekday:n})]})};var g,k,m,D,V=o.a.div(O||(O=Object(d.a)(["\n    display: flex;\n    justify-content: space-around;\n    width: 93%;\n"]))),P=o.a.div(f||(f=Object(d.a)(["\n    width: 60px;\n    text-align: center;\n"]))),W=o.a.div(p||(p=Object(d.a)(["\n    display: flex;\n    justify-content: space-around;\n    width: 100%;\n    margin-top: 10px;\n"]))),T=o.a.div(y||(y=Object(d.a)(["\n    display:flex;\n    flex-direction: column;\n    align-items: center\n"]))),F=o.a.div((function(e){return{width:"30px",height:"15px","margin-top":"5px","background-color":e.color}})),E=function(){return Object(l.jsxs)("div",{children:[Object(l.jsxs)(V,{children:[Object(l.jsx)(P,{children:"Sun"}),Object(l.jsx)(P,{children:"Mon"}),Object(l.jsx)(P,{children:"Tue"}),Object(l.jsx)(P,{children:"Wed"}),Object(l.jsx)(P,{children:"Thu"}),Object(l.jsx)(P,{children:"Fri"}),Object(l.jsx)(P,{children:"Sat"})]}),Object(l.jsxs)(W,{children:[Object(l.jsxs)(T,{children:[Object(l.jsx)("span",{children:"Adult"}),Object(l.jsx)(F,{color:"#5351FF"})]}),Object(l.jsxs)(T,{children:[Object(l.jsx)("span",{children:"Young"}),Object(l.jsx)(F,{color:"#8BD8FF"})]}),Object(l.jsxs)(T,{children:[Object(l.jsx)("span",{children:"Undefined"}),Object(l.jsx)(F,{color:"#8492A1"})]}),Object(l.jsxs)(T,{children:[Object(l.jsx)("span",{children:"Kid"}),Object(l.jsx)(F,{color:"#0D9900"})]}),Object(l.jsxs)(T,{children:[Object(l.jsx)("span",{children:"Old"}),Object(l.jsx)(F,{color:"#FF796D"})]})]})]})};var A,S,C=o.a.div(g||(g=Object(d.a)(["\n    width: 70%;\n    margin-left: 20px;\n"]))),I=o.a.div(k||(k=Object(d.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    align-items: flex-end;\n    width: 531px;\n    height: 300px;\n    border: 1px solid black;\n    background-color: #ffffff;\n    background-size: 76px 60px;\n    background-image:\n        linear-gradient(to right, grey 1px, transparent 1px),\n        linear-gradient(to bottom, grey 1px, transparent 1px);\n"]))),G=o.a.div(m||(m=Object(d.a)(["\n    display: flex;\n    align-items: center;\n"]))),_=o.a.div(D||(D=Object(d.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    height: 200px;\n    margin-left: 5px;\n"]))),L=function(e){var t={0:{adult:0,kid:0,old:0,undefined:0,young:0,totalViewsPerWeekday:0},1:{adult:0,kid:0,old:0,undefined:0,young:0,totalViewsPerWeekday:0},2:{adult:0,kid:0,old:0,undefined:0,young:0,totalViewsPerWeekday:0},3:{adult:0,kid:0,old:0,undefined:0,young:0,totalViewsPerWeekday:0},4:{adult:0,kid:0,old:0,undefined:0,young:0,totalViewsPerWeekday:0},5:{adult:0,kid:0,old:0,undefined:0,young:0,totalViewsPerWeekday:0},6:{adult:0,kid:0,old:0,undefined:0,young:0,totalViewsPerWeekday:0}};e.choosenDevices.forEach((function(e){e.o.forEach((function(e){var n=new Date(e.n).getDay();e.o.forEach((function(e){t[n].totalViewsPerWeekday+=e.v,t[n][e.n]+=e.v}))}))}));var n=function(e){var t=0;for(var n in e)e[n].totalViewsPerWeekday>t&&(t=e[n].totalViewsPerWeekday);return t}(t);return Object(l.jsxs)(C,{children:[Object(l.jsx)("h3",{children:"Total views: Age (by day of week)"}),Object(l.jsxs)(G,{children:[Object(l.jsxs)(I,{children:[Object(l.jsx)(w,{weekdayData:t[0],maxViewsPerWeekday:n}),Object(l.jsx)(w,{weekdayData:t[1],maxViewsPerWeekday:n}),Object(l.jsx)(w,{weekdayData:t[2],maxViewsPerWeekday:n}),Object(l.jsx)(w,{weekdayData:t[3],maxViewsPerWeekday:n}),Object(l.jsx)(w,{weekdayData:t[4],maxViewsPerWeekday:n}),Object(l.jsx)(w,{weekdayData:t[5],maxViewsPerWeekday:n}),Object(l.jsx)(w,{weekdayData:t[6],maxViewsPerWeekday:n})]}),Object(l.jsxs)(_,{children:[Object(l.jsx)("span",{children:n}),Object(l.jsx)("span",{children:.75*n}),Object(l.jsx)("span",{children:n/2}),Object(l.jsx)("span",{children:.25*n})]})]}),Object(l.jsx)(E,{})]})};function B(e){return{data:e,type:"GET_STATISTIC_DATA"}}var z=o.a.section(A||(A=Object(d.a)(["\n    width: 840px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin: 0px auto;\n    padding: 30px 10px;\n    background-color: #D4D9F0;\n"]))),J=o.a.div(S||(S=Object(d.a)(["\n    width: 20%;\n"]))),K=function(){var e=Object(a.c)((function(e){return e.defaultData})),t=Object(a.c)((function(e){return e.customData})),n=Object(a.c)((function(e){return e.isLoading})),c=Object(a.b)();function i(e){c(function(e){return{device:e,type:"TOGGLE_DEVICE"}}(e))}return!0===n?Object(l.jsx)("div",{children:"Please wait"}):!1===n?Object(l.jsxs)(z,{children:[Object(l.jsx)(J,{children:e.map((function(e){return Object(l.jsx)(u,{item:e,isChoosen:i},e.n)}))}),Object(l.jsx)(L,{choosenDevices:0===t.length?e:0!==t.length?t:null})]}):void 0},M=n(12),U=n.n(M),Y=n(19);function q(){return(q=Object(Y.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://analytics.3divi.ru/api/v2/statistics/user/2088/devices/dates/ages/?key=d3aa35bde5ef46899b91aca9c66e174e&b=2020/03/08%2012:00:00&e=2020/09/08%2012:00:00&tzo=0").then((function(e){return e.json()}));case 2:n=e.sent,t(B(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=n(14),N=n(20),Q=n(13);var R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{customData:[],defaultData:[],isLoading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_STATISTIC_DATA":return e.isLoading=!1,e.defaultData=t.data.data.o,e;case"TOGGLE_DEVICE":var n=e.customData.find((function(e){return e.n===t.device.n}));if(void 0===n&&(e.customData=[].concat(Object(Q.a)(e.customData),[t.device])),void 0!==n){var a=Object(Q.a)(e.customData);a.splice(e.customData.indexOf(n),1),e.customData=a}return e;default:return e}},X=Object(H.b)(R,Object(H.a)(N.a));X.dispatch((function(e){return q.apply(this,arguments)})),r.a.render(Object(l.jsx)(a.a,{store:X,children:Object(l.jsx)(K,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.446d3a58.chunk.js.map